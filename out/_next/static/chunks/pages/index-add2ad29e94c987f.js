(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{2135:function(e,n,t){"use strict";t.d(n,{Z:function(){return A}});var r=t(7462),o=t(7685),a=t(4942),i=t(91),c=t(7294),s=t(3967),l=t.n(s),d=t(6397),u=t(3017),m=t(1413),p=t(1002),f=t(4958),h=t(7571),y=t(334);function g(e){return"object"===(0,p.Z)(e)&&"string"==typeof e.name&&"string"==typeof e.theme&&("object"===(0,p.Z)(e.icon)||"function"==typeof e.icon)}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce(function(n,t){var r=e[t];return"class"===t?(n.className=r,delete n.class):(delete n[t],n[t.replace(/-(.)/g,function(e,n){return n.toUpperCase()})]=r),n},{})}function v(e){return(0,d.R_)(e)[0]}function b(e){return e?Array.isArray(e)?e:[e]:[]}var j=function(e){var n=(0,c.useContext)(u.Z),t=n.csp,r=n.prefixCls,o="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n";r&&(o=o.replace(/anticon/g,r)),(0,c.useEffect)(function(){var n=e.current,r=(0,h.A)(n);(0,f.hq)(o,"@ant-design-icons",{prepend:!0,csp:t,attachTo:r})},[])},C=["icon","className","onClick","style","primaryColor","secondaryColor"],k={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1},N=function(e){var n,t,r=e.icon,o=e.className,a=e.onClick,s=e.style,l=e.primaryColor,d=e.secondaryColor,u=(0,i.Z)(e,C),p=c.useRef(),f=k;if(l&&(f={primaryColor:l,secondaryColor:d||v(l)}),j(p),n=g(r),t="icon should be icon definiton, but got ".concat(r),(0,y.ZP)(n,"[@ant-design/icons] ".concat(t)),!g(r))return null;var h=r;return h&&"function"==typeof h.icon&&(h=(0,m.Z)((0,m.Z)({},h),{},{icon:h.icon(f.primaryColor,f.secondaryColor)})),function e(n,t,r){return r?c.createElement(n.tag,(0,m.Z)((0,m.Z)({key:t},x(n.attrs)),r),(n.children||[]).map(function(r,o){return e(r,"".concat(t,"-").concat(n.tag,"-").concat(o))})):c.createElement(n.tag,(0,m.Z)({key:t},x(n.attrs)),(n.children||[]).map(function(r,o){return e(r,"".concat(t,"-").concat(n.tag,"-").concat(o))}))}(h.icon,"svg-".concat(h.name),(0,m.Z)((0,m.Z)({className:o,onClick:a,style:s,"data-icon":h.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},u),{},{ref:p}))};function w(e){var n=b(e),t=(0,o.Z)(n,2),r=t[0],a=t[1];return N.setTwoToneColors({primaryColor:r,secondaryColor:a})}N.displayName="IconReact",N.getTwoToneColors=function(){return(0,m.Z)({},k)},N.setTwoToneColors=function(e){var n=e.primaryColor,t=e.secondaryColor;k.primaryColor=n,k.secondaryColor=t||v(n),k.calculated=!!t};var Z=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];w(d.iN.primary);var _=c.forwardRef(function(e,n){var t=e.className,s=e.icon,d=e.spin,m=e.rotate,p=e.tabIndex,f=e.onClick,h=e.twoToneColor,y=(0,i.Z)(e,Z),g=c.useContext(u.Z),x=g.prefixCls,v=void 0===x?"anticon":x,j=g.rootClassName,C=l()(j,v,(0,a.Z)((0,a.Z)({},"".concat(v,"-").concat(s.name),!!s.name),"".concat(v,"-spin"),!!d||"loading"===s.name),t),k=p;void 0===k&&f&&(k=-1);var w=b(h),_=(0,o.Z)(w,2),A=_[0],T=_[1];return c.createElement("span",(0,r.Z)({role:"img","aria-label":s.name},y,{ref:n,tabIndex:k,onClick:f,className:C}),c.createElement(N,{icon:s,primaryColor:A,secondaryColor:T,style:m?{msTransform:"rotate(".concat(m,"deg)"),transform:"rotate(".concat(m,"deg)")}:void 0}))});_.displayName="AntdIcon",_.getTwoToneColor=function(){var e=N.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},_.setTwoToneColor=w;var A=_},3017:function(e,n,t){"use strict";var r=(0,t(7294).createContext)({});n.Z=r},9647:function(e,n,t){"use strict";var r=t(5893);n.Z=function(e){var n=e.url,t=e.children;return(0,r.jsx)("div",{className:"container-fluid",style:{backgroundImage:"url("+n+")",backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed",padding:"100px 0px 75px 0px",display:"block"},children:(0,r.jsx)("div",{className:"row",children:(0,r.jsxs)("h1",{className:"display-1 text-center py-5 ",children:[" ",void 0===t?"Social App":t," "]})})})}},1049:function(e,n,t){"use strict";var r=t(7294),o=t(653),a=t(381),i=t.n(a),c=t(3863),s=t(4447),l=t(6513),d=t(1255),u=t(143),m=t(1163),p=t(4710),f=t(1664),h=t.n(f),y=t(5893);n.Z=function(e){var n=e.commentsCount,t=e.p,a=(0,r.useContext)(u.S)[0];return(0,m.useRouter)(),(0,y.jsx)(y.Fragment,{children:t&&(0,y.jsx)("div",{className:"card",children:(0,y.jsx)("div",{children:(0,y.jsxs)("div",{className:"card-body",children:[(0,y.jsxs)("div",{className:"card-header",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)(c.C,{src:(0,p.d)(t),size:"large",alt:t.user&&t.user.name})," "]}),(0,y.jsxs)("span",{className:"pt-2 ml-3",children:["Posted by ",t.user&&t.user.name]}),(0,y.jsx)("span",{children:" "}),(0,y.jsx)("span",{className:"pt-2 ml-3",children:i()(t.createdAt).fromNow()})]}),(0,y.jsx)("div",{className:"card-body",children:(0,o.ZP)(t.content)}),(0,y.jsxs)("div",{className:"card-footer",children:[(0,y.jsx)("div",{style:{backgroundImage:"url(".concat(t.image&&t.image.url,")"),backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat",height:"300px"}}),(0,y.jsxs)("div",{className:"d-flex pt-2",children:[a&&a.user&&t.likes.includes(a.user._id)?(0,y.jsxs)("span",{className:"text-primary pt-2 h5 px-2",children:[(0,y.jsx)(s.Z,{})," ",t.likes.length," likes"]}):(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("span",{className:"text-primary pt-2 h5 px-2",children:[(0,y.jsx)(l.Z,{})," ",t.likes.length," likes"]})}),(0,y.jsx)(d.Z,{className:"text-primary pt-2 h5 px-2"})," ",(0,y.jsx)("div",{className:"pt-2 pl-3",children:(0,y.jsx)("div",{children:(0,y.jsxs)(h(),{href:"/post/".concat(t._id),className:"text-decoration-none",children:[t.comments&&t.comments.length," comments"," "]})})})]})]}),t.comments&&t.comments.length>0&&(0,y.jsx)("ol",{className:"list-group",style:{maxHeight:"125px",overflowY:"scroll"},children:t.comments.slice(0,void 0===n?4:n).map(function(e){return(0,y.jsxs)("li",{className:"list-group-item d-flex list-group-item-action justify-content-between align-items-start",children:[(0,y.jsxs)("div",{className:"ms-2 me-auto",children:[(0,y.jsx)("div",{className:"ms-2 me-auto",children:(0,y.jsx)(c.C,{src:(0,p.d)(t),size:20,className:"mb-1 mr-3",alt:t.user&&t.user.name})}),t.user&&t.user.name,(0,y.jsx)("div",{className:"ms-2 me-auto",children:e.text})]}),(0,y.jsx)("span",{className:"badge badge-primary rounded-pill text-muted",children:i()(e.created).fromNow()})]},e._id)})})]},t._id)})})})}},4710:function(e,n,t){"use strict";t.d(n,{d:function(){return r}});var r=function(e){return"string"==typeof e.photo?e.photo:e.photo&&"data"in e.photo?e.photo.data:e.image&&"url"in e.image?e.image.url:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png"}},2697:function(e,n,t){"use strict";function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function o(e,n){if(e){if("string"==typeof e)return r(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return r(e,n)}}t.r(n),t.d(n,{__N_SSP:function(){return h},default:function(){return y}});var a=t(7294),i=t(9647),c=t(1049),s=t(9008),l=t.n(s),d=t(1664),u=t.n(d),m=t(3920),p=t(5893),f=(0,m.ZP)("http://localhost:8000",{reconnection:!0}),h=!0,y=function(e){var n,t=e.posts.posts,s=function(e){if(Array.isArray(e))return e}(n=a.useState([]))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a,i,c=[],s=!0,l=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=a.call(t)).done)&&(c.push(r.value),c.length!==n);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(n,2)||o(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=s[0],m=s[1];(0,a.useEffect)(function(){f.on("recieve-message",function(e){m([e].concat(function(e){if(Array.isArray(e))return r(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||o(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))})},[]);var h=d.length>0?d:t;return console.log("collection =>",h),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(l(),{children:[(0,p.jsx)("title",{children:"My socialApp - A social network by devs for devs"}),(0,p.jsx)("meta",{name:"description",content:"A social network by developers for other web developers"}),(0,p.jsx)("meta",{name:"keywords",content:"social, network, web, developers"}),(0,p.jsx)("meta",{name:"author",content:"Katongole Isaac"}),(0,p.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,p.jsx)("meta",{property:"og:type",content:"website"}),(0,p.jsx)("meta",{property:"og:title",content:"My socialApp"}),(0,p.jsx)("meta",{property:"og:site_name",content:"My socialApp"}),(0,p.jsx)("meta",{property:"og:image:secure_url",content:"http://localhost:3000/images/favicon.png"}),(0,p.jsx)("meta",{property:"og:url",content:"http://localhost:3000"}),(0,p.jsx)("link",{rel:"stylesheet",href:"/globalcss/styles.css"}),(0,p.jsx)("link",{rel:"icon",href:"/images/favicon.png"})]}),(0,p.jsx)(i.Z,{url:"/images/default.jpeg"}),(0,p.jsx)("div",{className:"container",children:(0,p.jsx)("div",{className:"row pt-5",children:h&&h.map(function(e){return(0,p.jsx)("div",{className:"col-md-4",children:(0,p.jsx)("div",{children:(0,p.jsx)(u(),{href:"/post/view/".concat(e._id),children:(0,p.jsx)(c.Z,{p:e},e._id)},e._id)})},e._id)})})})]})}},8312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(2697)}])},247:function(){}},function(e){e.O(0,[885,683,920,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);